"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[142],{536:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(645),s=r.n(n)()((function(e){return e[1]}));s.push([e.id,".response-wrap[data-v-75a01d04]{word-wrap:break-word;border:1px solid #000;max-height:50vh;min-height:300px;overflow:auto;padding:10px}",""]);const a=s},142:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(757),s=r.n(n);const a={name:"Params",props:["value"],computed:{model:{get:function(){return this.value||[]},set:function(e){this.$emit("input",e)}}},watch:{model:{handler:function(e){e.length||(e.push({key:"",value:""}),this.$emit("input",e))},immediate:!0,deep:!0}}};var o=r(900);const l=(0,o.Z)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",e._l(e.model,(function(t,n){return r("v-row",{key:n,attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"3"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-plus",outlined:""},on:{"click:prepend":function(t){return e.model.push({key:"",value:""})}},model:{value:t.key,callback:function(r){e.$set(t,"key",r)},expression:"header.key"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{outlined:""},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"header.value"}})],1)],1)})),1)}),[],!1,null,"44a9b36c",null).exports;const c={name:"RequestBody",components:{Params:l},props:["value"],data:function(){return{mode:0,json_model:[]}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{objectToJson:function(e){var t={};return e.forEach((function(e){t[e.key]=e.value})),JSON.stringify(t,null,2)},formatJson:function(){this.model=JSON.stringify(JSON.parse(this.model),null,2)}},watch:{json_model:{handler:function(e){this.model=this.objectToJson(e)},deep:!0},mode:{handler:function(e){var t=this;if(0===e){this.json_model=[];var r=JSON.parse(this.model);Object.keys(r).forEach((function(e){t.json_model.push({key:e,value:r[e]})}))}},immediate:!0}}};const u=(0,o.Z)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{"align-content":"center",align:"center","no-gutters":""}},[r("v-col",[r("v-radio-group",{attrs:{row:""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[r("v-radio",{attrs:{label:"Form data",value:0}}),e._v(" "),r("v-radio",{attrs:{label:"Raw",value:1}})],1)],1),e._v(" "),r("v-col",[1===e.mode?r("v-btn",{staticClass:"text-none",attrs:{text:"",color:"primary",small:""},on:{click:e.formatJson}},[e._v("Format json")]):e._e()],1)],1),e._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[1===e.mode?r("v-textarea",{attrs:{outlined:"",height:"500px"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e(),e._v(" "),e._l(e.json_model,(function(t,n){return 0===e.mode?r("v-row",{key:n,attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"3"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-plus",outlined:""},on:{"click:prepend":function(t){return e.json_model.push({key:"",value:""})}},model:{value:t.key,callback:function(r){e.$set(t,"key",r)},expression:"header.key"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{outlined:""},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"header.value"}})],1)],1):e._e()}))],2)],1)],1)}),[],!1,null,"57e12171",null).exports;var i=r(354);const d={name:"ResponseHeaders",props:["value"],data:function(){return{dialog:!1}}};const v={name:"Response",components:{ResponseHeaders:(0,o.Z)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",small:""}},"v-btn",s,!1),n),[e._v("\n            Headers\n        ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"red",icon:""},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),r("v-card-text",e._l(e.value,(function(t,n){return r("v-row",{key:n,staticStyle:{"border-bottom":"1px dashed black"},attrs:{"no-gutters":""}},[r("v-col",[r("span",{domProps:{innerHTML:e._s(n)}})]),e._v(" "),r("v-col",e._l(t,(function(t){return r("span",{staticClass:"block",domProps:{innerHTML:e._s(t)}})})),0)],1)})),1)],1)],1)}),[],!1,null,"7c044565",null).exports},props:["value"],data:function(){return{mode:2}},methods:{parseJson:function(e){try{return JSON.parse(e)}catch(t){return e}}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}};var m=r(379),p=r.n(m),f=r(536),h={insert:"head",singleton:!1};p()(f.Z,h);f.Z.locals;function _(e,t,r,n,s,a,o){try{var l=e[a](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,s)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){_(a,n,s,o,l,"next",e)}function l(e){_(a,n,s,o,l,"throw",e)}o(void 0)}))}}const x={name:"Request",components:{Response:(0,o.Z)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6"}},[r("v-radio-group",{attrs:{row:""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[r("v-radio",{attrs:{value:1,label:"Pretty"}}),e._v(" "),r("v-radio",{attrs:{value:2,label:"Raw"}}),e._v(" "),r("v-radio",{attrs:{value:3,label:"Preview"}})],1)],1),e._v(" "),r("v-col",{attrs:{cols:"1"}},[r("response-headers",{model:{value:e.model.headers,callback:function(t){e.$set(e.model,"headers",t)},expression:"model.headers"}})],1),e._v(" "),r("v-col",{attrs:{cols:"2"}},[r("span",{class:200===e.model.status_code?"green--text":"red--text"},[e._v("Status code: "+e._s(e.model.status_code))])]),e._v(" "),r("v-col",{attrs:{cols:"2"}},[r("span",{class:200===e.model.status_code?"green--text":"red--text"},[e._v("Reason phrase: "+e._s(e.model.reason_phrase))])])],1),e._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"11"}},[r("div",{staticClass:"response-wrap"},[2===e.mode?r("pre",[e._v(e._s(e.model.contents))]):e._e(),e._v(" "),1===e.mode?r("pre",[e._v(e._s(e.parseJson(e.model.contents)))]):e._e(),e._v(" "),3===e.mode?r("div",{domProps:{innerHTML:e._s(e.model.contents)}}):e._e()])])],1)],1)}),[],!1,null,"75a01d04",null).exports,Params:l,RequestBody:u},data:function(){return{original_hash:null,loading:!1,tab:0,key:0,tabs:["Headers","Params","Body"],request:{},methods:["GET","POST","PUT","DELETE"]}},methods:{rename:function(){var e=this;return b(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.prompt("Set new name for request")){t.next=4;break}return alert("Insert a name!"),t.abrupt("return");case 4:return t.next=6,axios.post("/rename-request/".concat(e.request.id),{new_name:r});case 6:return i.$.$emit("reload-collections"),t.next=9,e.getRequest(e.id);case 9:case"end":return t.stop()}}),t)})))()},deleteRequest:function(){var e=this;return b(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure to delete?")){t.next=4;break}return t.next=4,axios.delete("/delete-request/".concat(e.request.id));case 4:return i.$.$emit("reload-collections"),t.next=7,e.$router.push("/");case 7:case"end":return t.stop()}}),t)})))()},saveChanges:function(){var e=this;return b(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.post("/save-request",e.request);case 2:e.original_hash=JSON.stringify(e.request).hashCode();case 3:case"end":return t.stop()}}),t)})))()},sendRequest:function(){var e=this;return b(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,axios.post("/send-request",e.request);case 4:r=t.sent,e.request=r.data.item,e.loading=!1,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log(t.t0),e.loading=!1,t.abrupt("return");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getRequest:function(e){var t=this;return b(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,axios.get("/get-request/".concat(e));case 2:n=r.sent,t.request=n.data.item,t.original_hash=JSON.stringify(t.request).hashCode(),t.key++;case 6:case"end":return r.stop()}}),r)})))()}},computed:{params_query:function(){return this.request.params&&this.request.params.length?this.request.params.reduce((function(e,t){return t.key&&t.value?"".concat(e,"&").concat(t.key,"=").concat(t.value):e}),"?").replace("?&","?"):""},breadcrumbs:function(){var e,t,r;return this.request?[{text:"Dashboard",disabled:!1,to:"/"},{text:null===(e=this.request)||void 0===e||null===(t=e.collection)||void 0===t?void 0:t.name,disabled:!0},{text:null===(r=this.request)||void 0===r?void 0:r.name,disabled:!0}]:[]},id:function(){return this.$route.params.id},current_hash:function(){return JSON.stringify(this.request).hashCode()}},watch:{id:{handler:function(e){var t=this;return b(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.getRequest(e);case 1:case"end":return r.stop()}}),r)})))()},immediate:!0}}};const k=(0,o.Z)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"auto"}},[r("v-breadcrumbs",{attrs:{items:e.breadcrumbs,divider:">"}})],1),e._v(" "),r("v-col",{attrs:{cols:"1"}},[r("v-btn",{attrs:{icon:""},on:{click:e.rename}},[r("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-col",{attrs:{cols:"1"}},[r("v-btn",{attrs:{disabled:e.original_hash===e.current_hash,"x-large":"",color:"primary",icon:""},on:{click:e.saveChanges}},[r("v-icon",[e._v("mdi-content-save")])],1),e._v(" "),r("v-btn",{attrs:{"x-large":"",color:"red",icon:""},on:{click:e.deleteRequest}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1),e._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"1"}},[r("v-select",{attrs:{items:e.methods,outlined:""},model:{value:e.request.method,callback:function(t){e.$set(e.request,"method",t)},expression:"request.method"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{outlined:""},model:{value:e.request.uri,callback:function(t){e.$set(e.request,"uri",t)},expression:"request.uri"}})],1),e._v(" "),r("v-col",{attrs:{cols:"1"}},[r("v-btn",{attrs:{loading:e.loading,disabled:!e.request.uri,"x-large":"",color:"primary",icon:""},on:{click:e.sendRequest}},[r("v-icon",[e._v("mdi-send")])],1)],1)],1),e._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-tabs",{attrs:{"align-with-title":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tabs-slider",{attrs:{color:"primary"}}),e._v(" "),e._l(e.tabs,(function(t){return r("v-tab",{key:t},[e._v("\n                    "+e._s(t)+"\n                ")])}))],2)],1)],1),e._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r("params",{key:e.key,model:{value:e.request.headers,callback:function(t){e.$set(e.request,"headers",t)},expression:"request.headers"}})],1)],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r("params",{key:e.key,model:{value:e.request.params,callback:function(t){e.$set(e.request,"params",t)},expression:"request.params"}})],1)],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r("request-body",{key:e.key,model:{value:e.request.body,callback:function(t){e.$set(e.request,"body",t)},expression:"request.body"}})],1)],1)],1)],1)],1)],1),e._v(" "),e.request.response?r("response",{key:e.key,model:{value:e.request.response,callback:function(t){e.$set(e.request,"response",t)},expression:"request.response"}}):e._e()],1)}),[],!1,null,"446c7172",null).exports}}]);